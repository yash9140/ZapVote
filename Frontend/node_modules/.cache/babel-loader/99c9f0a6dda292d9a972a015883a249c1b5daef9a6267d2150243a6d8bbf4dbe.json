{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./AdminDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[question,setQuestion]=useState('');const[options,setOptions]=useState(['','']);const[duration,setDuration]=useState(60);const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const[polls,setPolls]=useState([]);const[activeSession,setActiveSession]=useState(null);const[copySuccess,setCopySuccess]=useState('');const navigate=useNavigate();const fetchPolls=useCallback(async()=>{try{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:4000';console.log('API URL:',apiUrl);// Debug log\nconst response=await axios.get(\"\".concat(apiUrl,\"/api/poll/history\"),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});setPolls(response.data);}catch(err){var _err$response,_err$response$data;console.error('Error fetching polls:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to fetch polls');}},[navigate]);useEffect(()=>{fetchPolls();},[fetchPolls]);const handleAddOption=()=>{setOptions([...options,'']);};const handleOptionChange=(index,value)=>{const newOptions=[...options];newOptions[index]=value;setOptions(newOptions);};const handleRemoveOption=index=>{if(options.length>2){const newOptions=options.filter((_,i)=>i!==index);setOptions(newOptions);}};const handleSubmit=async e=>{e.preventDefault();setError('');setIsLoading(true);// Validate inputs\nif(!question.trim()){setError('Please enter a question');setIsLoading(false);return;}if(options.some(opt=>!opt.trim())){setError('Please fill in all options');setIsLoading(false);return;}try{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:4000';console.log('API URL:',apiUrl);// Debug log\n// Create the poll\nconst response=await axios.post(\"\".concat(apiUrl,\"/api/poll/create\"),{question,options,duration},{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('Poll created:',response.data);// Debug log\n// Automatically start a session for the new poll\nconst sessionResponse=await axios.post(\"\".concat(apiUrl,\"/api/session/start\"),{pollId:response.data._id},{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('Session started:',sessionResponse.data);// Debug log\n// Update the active session state\nsetActiveSession({code:sessionResponse.data.code,question:sessionResponse.data.question,pollId:response.data._id});// Reset form\nsetQuestion('');setOptions(['','']);setDuration(60);// Refresh the polls list\nfetchPolls();}catch(err){var _err$response2,_err$response2$data,_err$response3,_err$response3$data;console.error('Error:',err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Failed to create poll and start session');}finally{setIsLoading(false);}};const handleStartSession=async pollId=>{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}try{const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:4000';console.log('Starting session with API URL:',apiUrl);const response=await axios.post(\"\".concat(apiUrl,\"/api/session/start\"),{pollId},{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}});setActiveSession({code:response.data.code,question:response.data.question,pollId});}catch(error){var _error$response,_error$response$data;console.error('Error starting session:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to start session');}};const handleEndSession=async pollId=>{setError('');setIsLoading(true);try{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:4000';console.log('API URL:',apiUrl);// Debug log\nawait axios.post(\"\".concat(apiUrl,\"/api/session/end\"),{pollId},{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('Session ended');// Debug log\nsetActiveSession(null);fetchPolls();// Refresh the polls list\n}catch(err){var _err$response4,_err$response4$data,_err$response5,_err$response5$data;console.error('Error ending session:',err);setError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.error)||((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||'Failed to end session');}finally{setIsLoading(false);}};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('role');navigate('/login');};const handleCopyCode=()=>{if(activeSession!==null&&activeSession!==void 0&&activeSession.code){navigator.clipboard.writeText(activeSession.code).then(()=>{setCopySuccess('Copied!');setTimeout(()=>setCopySuccess(''),2000);}).catch(err=>{console.error('Failed to copy:',err);setCopySuccess('Failed to copy');});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-btn\",children:\"Logout\"})]}),activeSession&&/*#__PURE__*/_jsxs(\"div\",{className:\"active-session\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Active Session\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"session-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Question:\"}),\" \",activeSession.question]}),/*#__PURE__*/_jsxs(\"div\",{className:\"session-code\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Session Code:\"}),\" \",activeSession.code]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyCode,className:\"copy-button\",children:copySuccess||'Copy Code'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"session-instructions\",children:\"Share this code with participants to join the poll\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"end-session-btn\",onClick:()=>handleEndSession(activeSession.pollId),children:\"End Session\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-poll-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Poll\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Question:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:question,onChange:e=>setQuestion(e.target.value),placeholder:\"Enter your question\",required:true,disabled:isLoading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Options:\"}),options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"option-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:option,onChange:e=>handleOptionChange(index,e.target.value),placeholder:\"Option \".concat(index+1),required:true,disabled:isLoading}),options.length>2&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRemoveOption(index),disabled:isLoading,className:\"remove-btn\",children:\"Remove\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddOption,disabled:isLoading,className:\"add-option-btn\",children:\"Add Option\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Duration (seconds):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:duration,onChange:e=>setDuration(Number(e.target.value)),min:\"10\",max:\"300\",required:true,disabled:isLoading})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"submit-btn\",children:isLoading?'Creating...':'Create Poll'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"polls-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Polls\"}),polls.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No polls found\"}):/*#__PURE__*/_jsx(\"div\",{className:\"polls-grid\",children:polls.map(poll=>/*#__PURE__*/_jsxs(\"div\",{className:\"poll-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:poll.question}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",poll.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Created: \",new Date(poll.createdAt).toLocaleString()]}),poll.status==='active'&&!activeSession&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStartSession(poll._id),disabled:isLoading,className:\"start-session-btn\",children:\"Start Session\"})]},poll._id))})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminDashboard","question","setQuestion","options","setOptions","duration","setDuration","error","setError","isLoading","setIsLoading","polls","setPolls","activeSession","setActiveSession","copySuccess","setCopySuccess","navigate","fetchPolls","token","localStorage","getItem","apiUrl","process","env","REACT_APP_API_URL","console","log","response","get","concat","headers","data","err","_err$response","_err$response$data","message","handleAddOption","handleOptionChange","index","value","newOptions","handleRemoveOption","length","filter","_","i","handleSubmit","e","preventDefault","trim","some","opt","post","sessionResponse","pollId","_id","code","_err$response2","_err$response2$data","_err$response3","_err$response3$data","handleStartSession","Authorization","_error$response","_error$response$data","handleEndSession","_err$response4","_err$response4$data","_err$response5","_err$response5$data","handleLogout","removeItem","handleCopyCode","navigator","clipboard","writeText","then","setTimeout","catch","className","children","onClick","onSubmit","type","onChange","target","placeholder","required","disabled","map","option","Number","min","max","poll","status","Date","createdAt","toLocaleString"],"sources":["C:/Users/Lenovo/Documents/Interaction/Frontend/src/components/AdminDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminDashboard.css';\n\nexport default function AdminDashboard() {\n  const [question, setQuestion] = useState('');\n  const [options, setOptions] = useState(['', '']);\n  const [duration, setDuration] = useState(60);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [polls, setPolls] = useState([]);\n  const [activeSession, setActiveSession] = useState(null);\n  const [copySuccess, setCopySuccess] = useState('');\n  const navigate = useNavigate();\n\n  const fetchPolls = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n      console.log('API URL:', apiUrl); // Debug log\n\n      const response = await axios.get(`${apiUrl}/api/poll/history`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setPolls(response.data);\n    } catch (err) {\n      console.error('Error fetching polls:', err);\n      setError(err.response?.data?.message || 'Failed to fetch polls');\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    fetchPolls();\n  }, [fetchPolls]);\n\n  const handleAddOption = () => {\n    setOptions([...options, '']);\n  };\n\n  const handleOptionChange = (index, value) => {\n    const newOptions = [...options];\n    newOptions[index] = value;\n    setOptions(newOptions);\n  };\n\n  const handleRemoveOption = (index) => {\n    if (options.length > 2) {\n      const newOptions = options.filter((_, i) => i !== index);\n      setOptions(newOptions);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    // Validate inputs\n    if (!question.trim()) {\n      setError('Please enter a question');\n      setIsLoading(false);\n      return;\n    }\n\n    if (options.some(opt => !opt.trim())) {\n      setError('Please fill in all options');\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n      console.log('API URL:', apiUrl); // Debug log\n\n      // Create the poll\n      const response = await axios.post(\n        `${apiUrl}/api/poll/create`,\n        {\n          question,\n          options,\n          duration\n        },\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      console.log('Poll created:', response.data); // Debug log\n      \n      // Automatically start a session for the new poll\n      const sessionResponse = await axios.post(\n        `${apiUrl}/api/session/start`,\n        { pollId: response.data._id },\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      console.log('Session started:', sessionResponse.data); // Debug log\n      \n      // Update the active session state\n      setActiveSession({\n        code: sessionResponse.data.code,\n        question: sessionResponse.data.question,\n        pollId: response.data._id\n      });\n\n      // Reset form\n      setQuestion('');\n      setOptions(['', '']);\n      setDuration(60);\n      \n      // Refresh the polls list\n      fetchPolls();\n    } catch (err) {\n      console.error('Error:', err);\n      setError(\n        err.response?.data?.error || \n        err.response?.data?.message || \n        'Failed to create poll and start session'\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleStartSession = async (pollId) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n\n    try {\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n      console.log('Starting session with API URL:', apiUrl);\n      \n      const response = await axios.post(\n        `${apiUrl}/api/session/start`,\n        { pollId },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      setActiveSession({\n        code: response.data.code,\n        question: response.data.question,\n        pollId\n      });\n    } catch (error) {\n      console.error('Error starting session:', error);\n      setError(error.response?.data?.error || 'Failed to start session');\n    }\n  };\n\n  const handleEndSession = async (pollId) => {\n    setError('');\n    setIsLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n      console.log('API URL:', apiUrl); // Debug log\n\n      await axios.post(\n        `${apiUrl}/api/session/end`,\n        { pollId },\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      console.log('Session ended'); // Debug log\n      setActiveSession(null);\n      fetchPolls(); // Refresh the polls list\n    } catch (err) {\n      console.error('Error ending session:', err);\n      setError(\n        err.response?.data?.error || \n        err.response?.data?.message || \n        'Failed to end session'\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n    navigate('/login');\n  };\n\n  const handleCopyCode = () => {\n    if (activeSession?.code) {\n      navigator.clipboard.writeText(activeSession.code)\n        .then(() => {\n          setCopySuccess('Copied!');\n          setTimeout(() => setCopySuccess(''), 2000);\n        })\n        .catch(err => {\n          console.error('Failed to copy:', err);\n          setCopySuccess('Failed to copy');\n        });\n    }\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      <div className=\"dashboard-header\">\n        <h2>Admin Dashboard</h2>\n        <button onClick={handleLogout} className=\"logout-btn\">\n          Logout\n        </button>\n      </div>\n\n      {activeSession && (\n        <div className=\"active-session\">\n          <h3>Active Session</h3>\n          <div className=\"session-info\">\n            <p><strong>Question:</strong> {activeSession.question}</p>\n            <div className=\"session-code\">\n              <p><strong>Session Code:</strong> {activeSession.code}</p>\n              <button \n                onClick={handleCopyCode}\n                className=\"copy-button\"\n              >\n                {copySuccess || 'Copy Code'}\n              </button>\n            </div>\n            <p className=\"session-instructions\">Share this code with participants to join the poll</p>\n          </div>\n          <button \n            className=\"end-session-btn\"\n            onClick={() => handleEndSession(activeSession.pollId)}\n          >\n            End Session\n          </button>\n        </div>\n      )}\n\n      <div className=\"create-poll-section\">\n        <h3>Create New Poll</h3>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label>Question:</label>\n            <input\n              type=\"text\"\n              value={question}\n              onChange={(e) => setQuestion(e.target.value)}\n              placeholder=\"Enter your question\"\n              required\n              disabled={isLoading}\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Options:</label>\n            {options.map((option, index) => (\n              <div key={index} className=\"option-input\">\n                <input\n                  type=\"text\"\n                  value={option}\n                  onChange={(e) => handleOptionChange(index, e.target.value)}\n                  placeholder={`Option ${index + 1}`}\n                  required\n                  disabled={isLoading}\n                />\n                {options.length > 2 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveOption(index)}\n                    disabled={isLoading}\n                    className=\"remove-btn\"\n                  >\n                    Remove\n                  </button>\n                )}\n              </div>\n            ))}\n            <button\n              type=\"button\"\n              onClick={handleAddOption}\n              disabled={isLoading}\n              className=\"add-option-btn\"\n            >\n              Add Option\n            </button>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Duration (seconds):</label>\n            <input\n              type=\"number\"\n              value={duration}\n              onChange={(e) => setDuration(Number(e.target.value))}\n              min=\"10\"\n              max=\"300\"\n              required\n              disabled={isLoading}\n            />\n          </div>\n\n          <button type=\"submit\" disabled={isLoading} className=\"submit-btn\">\n            {isLoading ? 'Creating...' : 'Create Poll'}\n          </button>\n        </form>\n        {error && <div className=\"error-message\">{error}</div>}\n      </div>\n\n      <div className=\"polls-section\">\n        <h3>Recent Polls</h3>\n        {polls.length === 0 ? (\n          <p>No polls found</p>\n        ) : (\n          <div className=\"polls-grid\">\n            {polls.map(poll => (\n              <div key={poll._id} className=\"poll-card\">\n                <h4>{poll.question}</h4>\n                <p>Status: {poll.status}</p>\n                <p>Created: {new Date(poll.createdAt).toLocaleString()}</p>\n                {poll.status === 'active' && !activeSession && (\n                  <button\n                    onClick={() => handleStartSession(poll._id)}\n                    disabled={isLoading}\n                    className=\"start-session-btn\"\n                  >\n                    Start Session\n                  </button>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}